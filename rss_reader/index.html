<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>RssReader</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/index.css" media="all"/>
    <link rel="stylesheet" type="text/css" href="css/bootstrap-select.min.css" media="all"/>
</head>
<body ng-app="RSSReaderApp">
<div class="container-fluid" ng-controller="FeedController" ng-init="init();">
    <div class="row">
        <div class="col-lg-2 left-column">
            <img class="logo" src="img/logo.png"/>
            <div>
                <button type="button" class="btn btn-info btn-add-feed" ng-click="addFeed()">Добавить ленту</button>
            </div>
            <div>
                <div class="groups" ng-repeat="group in groups"  ng-click="onGroupClick(group)"
                     ng-class="{activeGroup: isActiveGroup(group.groupName)}">
                    <div ng-mouseenter="groupMenuShow = true" ng-mouseleave="groupMenuShow = false">
                        <div class="group-item">
                            <div class="float-left">
                                <span class='glyphicon glyphicon-record {{group.markerType}}'></span>
                                <span class="group-name">{{group.groupName}} ({{group.feeds.length}})</span>
                            </div>
                            <div class="float-right hover-item" ng-show="groupMenuShow" ng-click="removeGroup(group)">
                                <span class="glyphicon glyphicon-trash"></span>
                            </div>
                        </div>
                        <div class="clear"></div>
                    </div>

                </div>
            </div>
            <div class="new-group-field">
                <div class="float-left">
                    <select class="selectpicker" data-width="40px" ng-model="markerType" data-style="select-item">
                        <option class="select-item" value="marker-red"
                                data-content="<span class='glyphicon glyphicon-record marker-red'></span>"></option>
                        <option class="select-item" value="marker-orange"
                                data-content="<span class='glyphicon glyphicon-record marker-orange'></span>"></option>
                        <option class="select-item" value="marker-yellow"
                                data-content="<span class='glyphicon glyphicon-record marker-yellow'></span>"></option>
                        <option class="select-item" value="marker-green"
                                data-content="<span class='glyphicon glyphicon-record marker-green'></span>"></option>
                        <option class="select-item" value="marker-blue"
                                data-content="<span class='glyphicon glyphicon-record marker-blue'></span>"></option>
                        <option class="select-item" value="marker-cyan"
                                data-content="<span class='glyphicon glyphicon-record marker-cyan'></span>"></option>
                        <option class="select-item" value="marker-purple"
                                data-content="<span class='glyphicon glyphicon-record marker-purple'></span>"></option>
                    </select>
                </div>
                <div class="float-left">
                    <input type="text" class="new-group" autocomplete="off" placeholder="Название группы"
                           ng-model="groupName" ng-keypress="addGroup($event);" ng-class="{invalid: invalidGroupName}"/>
                </div>
            </div>
        </div>
        <div class="col-lg-10 right-column">
            <div class="row row-top">
                <div class="col-lg-3 search-col">
                    <div class="input-group input-group-sm search-field">
                        <input type="text" class="form-control" data-ng-model="filterText"
                               placeholder="Поиск по новостям..." aria-describedby="sizing-addon1">
                        <span class="input-group-addon" id="sizing-addon1"><span
                                class="glyphicon glyphicon-search"></span></span>
                    </div>
                </div>
            </div>
            <div class="row row-bot">
                <div class="col-lg-3 feeds">
                    <div ng-hide="feeds.length > 0">
                        <p class="without-feeds">Список пуст</p>
                    </div>
                    <div ng-repeat="feed in feeds" ng-click="onFeedClick(feed)"
                         ng-class="{activeFeed: isActiveFeed(feed.name)}">
                        <div class="feed-item" ng-mouseenter="feedMenuShow = true" ng-mouseleave="feedMenuShow = false">
                            <div>
                                <img class="feed-favicon" ng-src="{{getFaviconUrl(feed.URL)}}"/>
                                <p class="feed-name float-left">{{feed.name}}</p>
                                <div class="clear"></div>
                                <p class="feed-url float-left">{{feed.URL}}</p>
                                <span class="pull-right glyphicon glyphicon-chevron-right feed-chevron"></span>
                                <div class="clear"></div>
                            </div>
                            <div class="float-right" ng-show="feedMenuShow">
                                <span class="glyphicon glyphicon-pencil hover-item" ng-click="editFeed(feed)"></span>
                                <span class="glyphicon glyphicon-trash hover-item"
                                      ng-click="removeFeed(feed.name)"></span>
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-9 items">
                    <div ng-show="loading" class="preloader">
                    </div>
                    <div ng-hide="loading" ng-repeat="item in news | filter:filterText">
                        <div class="news-item">
                            <item-info info="item"></item-info>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--libs-->

<script src="js/libs/jquery.min.js"></script>
<script src="js/libs/bootstrap.min.js"></script>
<script src="js/libs/bootstrap-select.min.js"></script>
<script src="js/libs/angular.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.5.0-beta.2/angular-sanitize.js"></script>
<script src="js/libs/ui-bootstrap-tpls-1.3.3.min.js"></script>
<script src="https://code.angularjs.org/1.3.0-rc.2/i18n/angular-locale_ru-ru.js"></script>

<!--modules-->
<script src="js/app.js"></script>

<!--services-->
<script src="js/services/FeedService.js"></script>
<script src="js/services/DataService.js"></script>

<!--controllers-->
<script src="js/controllers/FeedController.js"></script>

<!--directives-->
<script src="js/directives/itemInfo/itemInfo.js"></script>
<script src="js/directives/popup/popup.js"></script>

</body>
</html>